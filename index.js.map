{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["\nimport { instruments    } from './instruments';\nimport { common         } from './common';\nimport { createMarkup   } from './helpers/createMarkup';\nimport { createModal    } from './helpers/createModal';\nimport { \n         toFavorite,\n         toBusket\n                        } from './helpers/favoriteFun';\n// import { findProduct    } from './helpers/findProduct';\nconst  { KEY_FAVORITE, KEY_BASKET, KEY_INSTRUMENT }   =   common;\n\n// const search = document.querySelector('.js-search');\nconst jsList = document.querySelector('.js-list');\n\nlocalStorage.setItem(KEY_INSTRUMENT, JSON.stringify(instruments));\nconst allInstruments = JSON.parse(localStorage.getItem(KEY_INSTRUMENT));\n// export { allInstruments };\n// let favoriteArr = JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n// let basketArr = JSON.parse(localStorage.getItem(KEY_BASKET)) ?? [];\n\nconsole.log(allInstruments);\ncreateMarkup(allInstruments, jsList);\n\n\njsList.addEventListener('click', onClick);\n\nfunction onClick(evt){\n    evt.preventDefault();\n    // console.log(allInstruments);\n    \n    if(evt.target.classList.contains('js-info')){\n       \n            const product = findProduct(evt.target, allInstruments);\n            \n            // product.presentFuv = 0;\n            // product.presentBas = 0;\n       \n            const{img, name, price, description, id, presentFuv, presentBas} = product\n            createModal({img, name, price, description, id, presentFuv, presentBas})\n       \n    }\n    if(evt.target.classList.contains('js-favorite')){\n         toFavorite(evt.target)\n      \n            //   const product = findProduct(evt.target);\n            //     console.log(product);\n             \n            //    let favoriteArr = JSON.parse(localStorage.getItem('favorite01')) ?? [];\n            //     const inStorage = favoriteArr.some((itm)=> itm.id === product.id);\n            //     console.log(inStorage);//// false or true\n                                                     \n        // if(inStorage){\n        \n        //        console.log('if');\n        //        console.log(product);\n        //        let favoriteArr = JSON.parse(localStorage.getItem('favorite01')) ?? [];\n        //        favoriteArr = favoriteArr.filter((itm)=>itm.id!==product.id);\n        //        localStorage.setItem('favorite01', JSON.stringify(favoriteArr));\n      \n        // }else{\n             \n            //    console.log('else'); \n            //    console.log(product);\n            //    product.presentFuv = 1;\n               \n            //    favoriteArr.push(product);\n            //    console.log(favoriteArr);\n               \n            //    localStorage.setItem('favorite01', JSON.stringify(favoriteArr));\n                       \n               \n            //    }\n  }    \n}\n\n\n \n\nfunction findProduct(elem){\n    const productId = Number(elem.closest('.js-card').dataset.id)\n    // const allInstruments = JSON.parse(localStorage.getItem(KEY_INSTRUMENT));\n   return instruments.find(({id}) => id === productId);\n   \n}\n\n\nexport { allInstruments };"],"names":["KEY_INSTRUMENT","common","jsList","instruments","allInstruments","createMarkup","onClick","evt","product","findProduct","img","name","price","description","id","presentFuv","presentBas","createModal","toFavorite","elem","productId"],"mappings":"sHAUA,KAAO,CAA4B,eAAAA,CAAc,EAASC,EAGpDC,EAAS,SAAS,cAAc,UAAU,EAEhD,aAAa,QAAQF,EAAgB,KAAK,UAAUG,CAAW,CAAC,EAChE,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQJ,CAAc,CAAC,EAKtE,QAAQ,IAAII,CAAc,EAC1BC,EAAaD,EAAgBF,CAAM,EAGnCA,EAAO,iBAAiB,QAASI,CAAO,EAExC,SAASA,EAAQC,EAAI,CAIjB,GAHAA,EAAI,eAAc,EAGfA,EAAI,OAAO,UAAU,SAAS,SAAS,EAAE,CAEpC,MAAMC,EAAUC,EAAYF,EAAI,MAAsB,EAKjD,CAAC,IAAAG,EAAK,KAAAC,EAAM,MAAAC,EAAO,YAAAC,EAAa,GAAAC,EAAI,WAAAC,EAAY,WAAAC,CAAU,EAAIR,EACnES,EAAY,CAAC,IAAAP,EAAK,KAAAC,EAAM,MAAAC,EAAO,YAAAC,EAAa,GAAAC,EAAI,WAAAC,EAAY,WAAAC,CAAU,CAAC,CAE/E,CACGT,EAAI,OAAO,UAAU,SAAS,aAAa,GACzCW,EAAWX,EAAI,MAAM,CA+B9B,CAKA,SAASE,EAAYU,EAAK,CACtB,MAAMC,EAAY,OAAOD,EAAK,QAAQ,UAAU,EAAE,QAAQ,EAAE,EAE7D,OAAOhB,EAAY,KAAK,CAAC,CAAC,GAAAW,CAAE,IAAMA,IAAOM,CAAS,CAErD"}